
{
  "entities": {
    "Nota": {
      "title": "Nota",
      "type": "object",
      "description": "Armazena as notas de um aluno para uma disciplina específica ao longo do ano.",
      "properties": {
        "etapa1": { "type": ["number", "null"], "description": "Nota da Etapa 1." },
        "etapa2": { "type": ["number", "null"], "description": "Nota da Etapa 2." },
        "etapa3": { "type": ["number", "null"], "description": "Nota da Etapa 3." },
        "etapa4": { "type": ["number", "null"], "description": "Nota da Etapa 4." },
        "mediaFinal": { "type": ["number", "null"], "description": "Média final da disciplina." }
      }
    },
    "Boletim": {
      "title": "Boletim",
      "type": "object",
      "description": "Um mapa de disciplinas e suas respectivas notas para um aluno.",
      "additionalProperties": {
        "$ref": "#/entities/Nota"
      }
    },
    "Aluno": {
      "title": "Aluno",
      "type": "object",
      "description": "Representa um único aluno na base de dados escolar.",
      "properties": {
        "rm": {
          "type": "string",
          "description": "Registro do Aluno, usado como identificador único."
        },
        "nome": { "type": "string" },
        "ensino": { "type": "string" },
        "serie": { "type": "string" },
        "classe": { "type": "string" },
        "turno": { "type": "string" },
        "filiacao_1": { "type": "string" },
        "filiacao_2": { "type": "string" },
        "rg": { "type": "string" },
        "nis": { "type": "string" },
        "id_censo": { "type": "string" },
        "cpf_aluno": { "type": "string" },
        "cpffiliacao1": { "type": "string" },
        "data_nascimento": { "type": "string", "format": "date" },
        "endereco": { "type": "string" },
        "telefones": { "type": "array", "items": { "type": "string" } },
        "transporte_escolar": { "type": "boolean" },
        "carteira_estudante": { "type": "boolean" },
        "nee": { "type": ["string", "null"] },
        "boletim": { "$ref": "#/entities/Boletim" },
        "status": {
            "type": "string",
            "enum": ["ATIVO", "NÃO LISTADO"],
            "description": "Status do aluno na base de dados."
        }
      },
      "required": ["rm", "nome", "status"]
    }
  },
  "auth": {
    "providers": [
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/alunos/{alunoId}",
        "definition": {
          "schema": {
            "$ref": "#/entities/Aluno"
          },
          "description": "Coleção que armazena os dados de todos os alunos."
        }
      }
    ]
  }
}
