/**
 * @fileOverview Firestore Security Rules for the escolar database.
 *
 * Core Philosophy:
 * This ruleset allows public read access to the 'alunos' collection while restricting write access.
 * Write access is denied in the current configuration, as the intended authorization mechanism is unclear.
 *
 * Data Structure:
 * The database consists of a single top-level collection, 'alunos', where each document represents a student.
 * Document IDs are the student's RM (Registro do Aluno).
 *
 * Key Security Decisions:
 * - 'alunos' collection: Public read access is enabled to allow open access to student data.
 * - Write access to the 'alunos' collection is explicitly denied, indicating either a need for a different
 *   authentication mechanism, or a desire to prevent modification.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows public read access to the 'alunos' collection, but denies all write operations.
     * @path /alunos/{alunoId}
     * @allow (get, list) User can read any document in the 'alunos' collection.
     * @deny (create, update, delete) No user can create, update, or delete documents in the 'alunos' collection.
     * @principle Allows public read access.
     */
    match /alunos/{alunoId} {
      allow get: if true;
      allow list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }
  }
}